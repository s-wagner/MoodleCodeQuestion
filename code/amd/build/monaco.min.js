define("qtype_code/monaco",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=_ref=>{let{lang:lang,url1:url1,url2:url2,text:text,mID:mID,edit:edit,intel:intel,inline:inline,keywords:keywords,variables:variables,functions:functions,classes:classes,modules:modules,tabsize:tabsize}=_ref;var script=window.document.createElement("script");script.src=url1,window.document.head.appendChild(script),console.log(intel),console.log(inline),console.log(keywords),console.log(variables),console.log(functions),console.log(classes),console.log(modules),text=text.replaceAll("&lt;","<"),text=text.replaceAll("&gt;",">"),text=text.replaceAll("&amp;","&"),text=text.replaceAll("&quot;",'"'),text=text.replaceAll("&#039;","'"),text=text.replaceAll("&apos;","'"),require.config({paths:{vs:url2}}),require(["vs/editor/editor.main"],(function(){window.editor=monaco.editor.create(document.getElementById("containerMonaco"+mID),{value:text,language:lang,readOnly:!edit,tabSize:tabsize});const suggestOptions={showInlineDetails:inline,showKeywords:keywords,showVariables:variables,showFunctions:functions,showClasses:classes,showModules:modules};window.editor.updateOptions({quickSuggestions:intel,suggestOnTriggerCharacters:intel,suggest:suggestOptions}),monaco.languages.registerDocumentFormattingEditProvider("java",{provideDocumentFormattingEdits(model,options){var formatted=function(javaCode){const lines=javaCode.split("\n");let beautifiedCode="",indentLevel=0;for(const line of lines){let trimmedLine=line.trim();trimmedLine.startsWith("}")&&indentLevel--;for(let i=0;i<indentLevel;i++)beautifiedCode+="\t";beautifiedCode+=trimmedLine+"\n",trimmedLine.endsWith("{")&&indentLevel++}return beautifiedCode.trim()}(model.getValue());return[{range:model.getFullModelRange(),text:formatted}]}}),monaco.languages.registerDocumentFormattingEditProvider("sql",{provideDocumentFormattingEdits(model,options){var formatted=function(sqlCode){const regexStr=["FROM","WHERE","GROUP BY","HAVING","ORDER BY","JOIN","INNER JOIN","LEFT JOIN","RIGHT JOIN","ON","INSERT INTO","VALUES","UPDATE","SET","DELETE FROM","CREATE TABLE","ALTER TABLE","DROP TABLE","UNION","UNION ALL"].map((kw=>kw.split(" ").map((w=>"(?<=\\s|^)".concat(w,"(?=\\s|$)"))).join("\\s+"))).join("|"),regex=new RegExp(regexStr,"gi");let beautifiedCode=sqlCode.replace(regex,(match=>"\n".concat(match)));beautifiedCode.startsWith("\n")&&(beautifiedCode=beautifiedCode.slice(1));return function(text){return text.replace(/^\s*\n/gm,"")}(beautifiedCode.trim())}(model.getValue());return[{range:model.getFullModelRange(),text:formatted}]}}),monaco.languages.registerDocumentFormattingEditProvider("python",{provideDocumentFormattingEdits(model,options){var formatted=function(pythonCode){const lines=pythonCode.split("\n");let beautifiedCode="",indentLevel=0,consecutiveBlankLines=0;for(const line of lines){const trimmedLine=line.trim();if(trimmedLine){["else","elif","except","finally"].some((keyword=>trimmedLine.startsWith(keyword)))&&indentLevel--;beautifiedCode+=" ".repeat(4*indentLevel)+trimmedLine+"\n",trimmedLine.endsWith(":")&&indentLevel++,consecutiveBlankLines=0}else consecutiveBlankLines++,2===consecutiveBlankLines&&(indentLevel=0),beautifiedCode+="\n"}return beautifiedCode}(model.getValue());return[{range:model.getFullModelRange(),text:formatted}]}}),monaco.languages.registerDocumentFormattingEditProvider("pascal",{provideDocumentFormattingEdits(model,options){var formatted=function(code,tabSize){let indentLevel=0;const lines=code.split("\n");let formattedLines=[];return lines.forEach((line=>{const trimmedLine=line.trim().toLowerCase();trimmedLine.length>0&&((trimmedLine.startsWith("end")||trimmedLine.startsWith("until")||trimmedLine.startsWith("else"))&&(indentLevel-=tabSize),trimmedLine.startsWith("var")&&(indentLevel+=tabSize),formattedLines.push(" ".repeat(indentLevel)+line.trim().replace(/\s+/g," ")),trimmedLine.startsWith("var")&&(indentLevel-=tabSize),(trimmedLine.endsWith("begin")||trimmedLine.endsWith("then")||trimmedLine.includes("begin (*")||trimmedLine.includes("then (*")||trimmedLine.includes("begin //")||trimmedLine.includes("then //"))&&(indentLevel+=tabSize))})),formattedLines.join("\n")}(model.getValue(),tabsize);return[{range:model.getFullModelRange(),text:formatted}]}}),document.getElementById("formater").onclick=function(){window.editor.getAction("editor.action.formatDocument").run()},edit&&window.editor.getModel().onDidChangeContent((event=>{let value=window.editor.getValue();window.document.getElementById(mID).textContent=value}))}))}}));

//# sourceMappingURL=monaco.min.js.map